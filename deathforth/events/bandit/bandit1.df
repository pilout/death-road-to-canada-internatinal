
cyoa{ road{

: bandithurt
	ezbandit? if 
		ouch--all
	else
		ouch12rnd--all
	then
;

: haggler-morale 
	haggler? if else morale--all then
;

: bandit-give-in
	($ Thegroup .. "  decide de jouer la securite. " .. gThey .. "  donner" .. g1s .. " ' aux demandes des bandits." $) cyoa-text! badfx
;
cyoa-choice: bandit-pay-foodtoll
	someicon bandit-give-in bandit-toll-pay haggler-morale 
;
cyoa-choice: bandit-pay-lowtoll
	someicon bandit-give-in eat-all bandit-ammomed2 haggler-morale
;
cyoa-choice: bandit-pay-badtoll
	someicon bandit-give-in bandit-ammomed 
		// check if in car
		vehicle.which@ 0 if
			bandit-gas
		else
			bandit-gastank
		then morale2-all
;
cyoa-choice: bandit-start-fight
	($ Thegroup .. " sait que chacun de " .. ghis .. " les fournitures sont essentielles pour " .. ghis .. " chances of reaching Canada. " .. gthey .. " combat" .. g1s .. "." $) cyoa-text! someicon bitefx
		ezbandit? if 
			ouch--all
		else
			70 %chance if
				ouch12rnd--all
			then;
			ouch2-all
		then
;

: bandit-demand
	bandit-toll? if
		($ bandit-toll .. " " .. "passer sans encombre" rbold $) +text
		choice( "Payer le peage de " .. bandit-toll .. " nourriture" )choice: bandit-pay-foodtoll
	else
		trunk-food 4 > if
			ezbandit? if 
				($ "of ammo and medical supplies" rbold $) 
			else
				($ "le reste de votre nourriture, et la moitie de vos munitions et de vos fournitures medicales." rbold $) 
			then +text
			choice( "Acceptez les demandes des bandits" )choice: bandit-pay-lowtoll
		else
			ezbandit? if
				($ "tout votre essence supplementaire, et la moitie de vos munitions et de vos fournitures medicales !" rbold $)
			else
				($ "toutes vos munitions, vos fournitures medicales et vos reservoirs dessence supplementaires !" rbold $)
			then +text
			choice( "Acceptez les dures exigences des bandits" )choice: bandit-pay-badtoll
		then
	then
;
: bandit-fight
	choice( "Refusez et combattez !" )choice: bandit-start-fight
;
: bandit-demand-fight
	bandit-demand bandit-fight
;

cyoa-choice: bandit-charm-sucker
	($ cname .. "  trompe les bandits. Pendant quils attendent que les fournitures soient larguees, " .. ghe .. " ' court vers la voiture et demarre en trombe. Les bandits parviennent a tirer sur la voiture alors qu'elle s'eloigne a toute vitesse ! Ils n'ont que le temps de l'effleurer." $) cyoa-text! -1 car-chassis+ bitefx
	car-chassis 0 > if
		"La voiture se voit ajouter un ou deux trous supplementaires, mais elle va bien autrement." +crtext
	then loyaltyREV
;

cyoa-choice: bandit-charm-tp
	($ Thegroup .. ", ne voulant ou ne pouvant pas epargner dautres fournitures, decide de jeter " .. ghis .. "  des armes supplementaires du coffre." .. "ARMES SUPPLEMENTAIRES PERDUES !" rbold $) cyoa-text! trunk.clear badfx
;

cyoa-choice: bandit-charm-morale
	($ Thegroup .. ", ne voulant ou ne pouvant pas epargner dautres fournitures, decide de perdre quelques objets personnels precieux pour les bandits." .. "QUELLE DECEPTION !" rbold $) cyoa-text! badfx morale3-all
;

cyoa-bridge: bandit-start-charm
	($ cname .. " propose un compromis aux bandits " .. gHe .. " laissera quelque chose que les bandits veulent sur la route, puis sen ira. Aucun mal ne viendra de part et dautre." $) cyoa-text! witsattREV 
	"Les fournitures seront:" +crtext
		trunk-food bandit-toll2 1 - > if
			choice( bandit-toll2 .. " nourriture" )choice: bandit-toll-pay2
		then
		cloyalty- if
			choice( "A PLUS, LES NERDS!!" )choice: bandit-charm-sucker
		then
		trunk-bullet 1 > trunk-rifle-shell 1 > trunk-shotgun-shell 1 > or or if
			choice( "La moitie de vos munitions" )choice: bandit-ammo2
		then
		trunk-gas 100 > if
			choice( "Vos reservoirs dessence supplementaires" )choice: bandit-gastank
		then
		trunk-medical 1 > if
			choice( "La moitie de vos fournitures medicales" )choice: bandit-med2
		then
		choice( "Tresors personnels" )choice: bandit-charm-morale
		trunk.count 0 > if
			choice( "Toutes les armes du coffre" )choice: bandit-charm-tp
		then
;
: bandit-charm
	most-charming if 
		charchoice( "  propose un compromis" )choice: bandit-start-charm
	then
;

// Toll road

cyoa-bridge: bandit-tollroad-coolit
	cpet? if
		($ cname .. "  pete sur le pont a peage." $)
	else
		($ cname .. "  dit aux bandits du pont de" .. "  CALMER LE JEU." pbold $)
	then cyoa-text!
	cool-it-7 if
		char-gen to recruitee "Bandit du pont" recruitee .name!
		($ "Cela fait vraiment reflechir les bandits. Sont ils devenus trop gourmands? Ils offrent un cadeau afin de commencer a faire amende honorable!" $)
		+crtext morale3+all rescue-trainitem cooled-it goodfx
	else cool-it++
		($ "Les voleurs refusent de baisser le pont jusqua ce quils obtiennent la plus grande partie " .. thegroup .. "de leurs approvisionnements." $) +crtext badfx bandit-mostgas morale2-all
	then witsattREV 
;

cyoa-choice: bandit-tollroad-shoot
	($ Thegroup .. " traite " .. ghis .. " " .. gs .. " sur les voleurs." $) cyoa-text!
	($ gThey .. " " .. gare .. " cest si vite que les bandits sont debordes et contraints de baisser le pont.," .. Thegroup .. " traverse le pont sans en etre touche." $) +crtext goodfx
;

cyoa-choice: bandit-tollroad-jump
	($ cname .. " est vraiment en colere davoir a payer des taxes de passage, meme apres la civilisation. " .. cHe .. " court droit dans le pont retraite, envoyant la voiture voler par dessus.," $) cyoa-text! temperREV car-jump
;

cyoa: bandit-tollroad

	($ "Les voleurs gardent un pont retraite sur une riviere. Ils exigent que tout passant paie un peage.	" .. "Veulent " rbold $) cyoa-text!
		bandit-demand-fight
		shooting-total 12 > if
			choice( "Brandissent des armes a feu" )choice: bandit-tollroad-shoot
		then
		most-grating if
			charchoice( " 'Calmez vous'" fcoolit )choice: bandit-tollroad-coolit
		then
		smartest-pass if
			smartest charchoice( "faire un detour a la place" )choice: car-detour
		then
		angriest-pass if 
			angriest choosechar chumany? if
				cchar charchoice( "oN Y VA" )choice: bandit-tollroad-jump
			then
		then
;

// Quiet Ambush

cyoa-choice: bandit-quiet-paranoid
	($ cname .. " im not afraid of you, youre just a bunch of cowards " .. cname .. " " .. thegroup .. " il seloigne en flanant par un chemin de traverse. Il est bon de toujours prevoir le pire!" $) cyoa-text! goodfx morale++ morale++all witsREV attitudeREV
;

cyoa-choice: bandit-quiet-angry
	($ "Sans prevenir et sans un seul mot " .. cname .. " " .. cname .. " 	Everyone's stunned. The remaining three bandits decide they should quietly pick up their friends and leave." $) cyoa-text! goodfx morale++ morale++all temperREV strengthREV
;

cyoa-choice: bandit-quiet-pay
	($ Thegroup .. " paie les bandits leur rancon, au lieu de risquer le carnage." $) cyoa-text!
	-10 trunk-food+ badfx
;

: bandit-quiet-roll
	50 %chance if
		"Un des bandits hurle, et le chaos eclate alors que les zombies se dechainent. Levasion fut chaotique." +crtext ouch--all badfx
	else
		($ "'Les bandits ne sont que paroles, et ne font aucun bruit quand leur bluff est appele. " .. Thegroup .. "  retourne a la voiture pendant que les bandits seloignent." $) +crtext goodfx
	then
;

cyoa-choice: bandit-quiet-nofood
	choosehuman cicon
	($ cname .. "  explique que " .. ghe .. " ' n'a pas assez de nourriture." $) cyoa-text! 
	trunk-food 4 > if
		"'Les bandits ne semblent pas vouloir risquer le carnage, alors ils acceptent de prendre moins de nourriture." +crtext eat-all
	else
		"Les bandits pensent que cest un mensonge !" +crtext
		bandit-quiet-roll
	then
;

cyoa-choice: bandit-quiet-yell
	choosehuman cicon
	($ cname .. " ' appelle le bluff du bandit." $) cyoa-text! 
	bandit-quiet-roll
;

cyoa-bridge: bandit-quiet-coolit
	cpet? if
		($ cname .. "  pete vraiment faiblement sur les bandits." .. " Silent... but deadly." pbold $)
	else	
		($ "Dans un faible murmure, " .. cname .. "  dit aux bandits de" .. "  CALMER LE JEU." pbold $) 
	then cyoa-text!
	cool-it-7 if
		char-gen to recruitee "Bandit tranquille" recruitee .name!
		($ "Les bandits se figent sur place, ne sachant pas quoi faire. Lun propose un pot de vin si " .. cname .. "  va simplement sen aller et ne jamais revenir.		Les bandits peuvent donner leurs fournitures ou enseigner silencieusement les secrets des zombies par le langage des signes." $)
		+crtext 
		rescue-trainitem 
		cooled-it goodfx
	else cool-it++
		"Les bandits sont, pendant ce qui semble etre un long moment, surpris par cela." +crtext 
		bandit-quiet-roll
	then witsattREV 
;

cyoa: bandit-quiet
	// NEED IMAGE 
	someicon
	($ "Cinq bandits embusquent " .. thegroup .. " tant que " .. gtheyare .. " ' sur le point de se faufiler dans une maison infestee de zombies. Les bandits parlent a mi voix, craignant d'attirer l'attention des morts vivants. Ils disent de leur remettre des fournitures, ou ils crieront." $) cyoa-text!
		trunk-food 9 > if
			choice( " Donne 10 nourriture" )choice: bandit-quiet-pay
		else
			choice( "' N'a pas la nourriture !" )choice: bandit-quiet-nofood
		then		
		most-angrystrong if 
			charchoice( "  se dechaine" )choice: bandit-quiet-angry
		then
		most-paranoid if 
			charchoice( "  avait deja un plan" )choice: bandit-quiet-paranoid
		then
		most-grating if 
			charchoice( " 'Calmez vous'" fcoolit )choice: bandit-quiet-coolit
		then
		choice( " Appeler le bluff" )choice: bandit-quiet-yell
;

// Buff Bandits

cyoa-choice: bandit-buff-pose
	($ cname .. "  defie les bandits a un concours de pose." $) cyoa-text!
	cstrength+ if
		($ cHe .. "  fait une incroyable routine de flexion, perfectionnee par lentrainement. Les bandits perdent clairement et doivent laisser " .. thegroup .. " ' partir en raison du code du culturiste." $) +crtext goodfx morale2+all strengthREV
	then;
	
	cstrength- if
		90 %chance if
			($ cHe .. "  nest pas loin de la masse musculaire des bandits. " .. cHe .. " ' perd le concours de pose presque instantanement. Les bandits prennent beaucoup de fournitures supplementaires, meme celles dont ils n'ont pas besoin, pour enseigner " .. thegroup .. "  une lecon sur les faibles qui defient les gonfles. " $) +crtext morale--all bandit-most bandit-gastank badfx
		else
			($ " Par un etrange coup du sort, " .. che .. " ' gagne en quelque sorte le concours de pose grace a une faille peu connue dans le reglement des juges de musculation. Les bandits sont assez en colere a ce sujet, mais leurs mains sont liees par leurs regles." $) +crtext strength++ goodfx morale++all
		then strengthREV
	then;
	
	strengthroll if
		($ cHe .. " il parvient miraculeusement a battre les voleurs dans une competition de bodybuilding, tant dans les segments daffichage que dans le segment de talents ! " .. Thegroup .. " il est licencie." $)
		+crtext goodfx strength++ morale++all strengthREV
	then;
	($ cname .. " il perd la pose off. Cela est humiliant, et les voleurs prennent beaucoup de fournitures en penitence pour l'orgueil d'avoir osi defier leur autorite.'," $) +crtext
		morale-- badfx bandit-ammomed2 bandit-food
;

cyoa-bridge: bandit-buff-coolit
	cpet? if
		($ cname .. " il fart sur les voleurs, et aussi sur le concept de bodybuilding.," $)
	else	
		($ cname .. " il demande aux bandits grosmus" .. "  CALMER LE JEU." pbold $)
	then cyoa-text!
	cool-it-7 if
		char-gen to recruitee "Bandit Muscle" recruitee .name!
		($ "Ils sont impressionnes par cette attitude audacieuse ! Ils declarent " .. chim .. " leur champion dhonneur ! Les voleurs offrent un cadeau :" $)
		+crtext morale3+all rescskill1 rescue-reward-shuffle recruit-choice cooled-it goodfx
	else cool-it++
		($ "Les bandits grosmus se mettent en colere par cette attitude negative, et expriment leur colere sur " .. thegroup .. "voiture. Ils la frappent tous a mains nues, faisant beaucoup de degats.'," $) +crtext -2 car-chassis+ badfx	
		morale--all bitefx
		"Les bandits grosmus sen vont, en flexionnant. Meme le chien.," +crtext	
	then witsattREV
;

cyoa-choice: bandit-buff-obliv
	($ cname .. " il demande aux bandits grosmus ce quils pensent de leur " .. "SWEATBANDS" pbold .. "  et " .. "CONSTANTLY LIFTING DUMBBELLS WHILE TALKING.	" pbold .. "Les bandits parlent dune incroyable tradition perdue de " .. "BODYBUILDING" rbold .. " qui a ete perdue lorsque la civilisation est tombee. Ils montrent ce quils veulent dire dans une exposition musculaire inspirante. Dans le processus, les bandits oublient de voler " .. thegroup .. "." $) cyoa-text!
	morale2+all goodfx witsattREV
;

cyoa: bandit-buff
	image-buff-bandit
	"'Ils portent tous des bandeaux anti transpiration" cyoa-title!
	($ "Des bandits apparaissent, tous portant des bandeaux anti transpiration et tous super costauds, meme leur chien. Ils demandent de la poudre de proteine !	" .. "Ils accepteront egalement " rbold $) cyoa-text!
		bandit-demand
		strongest charchoice( " les defie a un concours de poses" )choice: bandit-buff-pose
		most-grating if
			charchoice( " 'dit aux bandits de' se calmer'" fcoolit )choice: bandit-buff-coolit
		then
		most-oblivious if
			charchoice( " 'demande ce qui se passe avec les tenues" )choice: bandit-buff-obliv
		then
		bandit-fight
		
;

// Greedy bandits that demand all of your stuff

: bandit-allofit-ez
	ezbandit? if "la moitie des" else "tout" then
;

cyoa-choice: bandit-allofit-pay
	($ "Les bandits passent par " .. thegroup .. "''s choses et prendre toute la nourriture et " .. bandit-allofit-ez .. "  fournitures.	" .. Thegroup .. " ' n'est pas content de cela, mais au moins les bandits n'ont pas vole la voiture ou meme siphonne l'essence. En echange de la cooperation, ils ont egalement rendu toutes les armes." $) cyoa-text! badfx
	bandit-most
	morale2-all
;
: bandit-allofit-check args( chara ) 
	<- chara .cfitness+ if
		<- chara .sting--
	else
		<- chara .cfitness- if
			<- chara .ouch2-
		else
			<- chara .ouch-- 50 %chance if <- chara .sting-- then
		then
	then <- chara .fitnessREV
;
cyoa-choice: bandit-allofit-run
	($ Thegroup .. "  decide de se lancer, pensant que les fournitures durement gagnees valent le risque.	Les bandits commencent a tirer !" $) cyoa-text!
	solo if
		cfitness+ if
			($ cname .. "  court et court, sans se fatiguer " .. cHe .. "  nest queffleure." $) +crtext sting--
		else
			cfitness- if
				($ cname .. " runs a few feet before getting winded. 
				" .. cHe .. "  est durement touche." $) +crtext ouch2-
			else
				($ cname .. "  court aussi loin que " .. che .. "  peut " .. cHe .. "  est touche." $) +crtext ouch-- 50 %chance if sting-- then
			then
		then
	else
		' bandit-allofit-check foreach-team-char
	then bitefx
;
cyoa-bridge: bandit-allofit-coolit
	cpet? if
		($ cname .. "  pete sur les bandits, leur donnant tout " .. chis .. "  gaz de pet." $)
	else	
		($ cname .. "  dit aux bandits de" .. "  CALMER LE JEU." pbold $) 
	then cyoa-text!
	cool-it-7 if
		char-gen to recruitee " Bandit reforme" recruitee .name!
		($ "'Cela arrete les bandits dans leur elan.		Et s'ils avaient mal vecu leur vie tout ce temps ?		Les choses auraient elles pu mieux se passer s'ils s'etaient simplement  calmes  ?		Ils decident de ne faire que de bonnes choses a partir de maintenant, et offrent un cadeau !		" .. Thegroup .. " est indemne, avec " .. ghis .. " spirits raised." $)
		+crtext morale3+all rescue-trainitem cooled-it goodfx
	else cool-it++
		($ "Les bandits ne samusent pas du tout par ca. Ils tirent sur " .. thegroup .. " qui tente de fuir." $) +crtext 
		notsolo if 
			($ "Dun cote, la plupart des balles atteignent " .. cname .. "." $) +crtext
		then
		ouch2- sting--all bitefx
	then witsattREV 
;

cyoa-choice: bandit-allofit-paranoid
	($ "Etait toujours vigilant avant lembuscade " .. cname .. " fonce vers une cachette proche et facile a ignorer " .. cHe .. " tirets vers un abri proche mais facile a negliger. " $) cyoa-text!
	notsolo if ($ Everyone .. " suivra " .. chim .. "." $) +text then
	"Les bandits perdent leur avantage determinant, et senfuient apres un bref combat.," +crtext bitefx sting--all witsattREV
;

cyoa: bandit-allofit
	"Votre argent contre votre vie" cyoa-title! someicon
	($ "Les bandits prennent " .. thegroup .. " par surprise, dans une vraie mauvaise place pour " .. ghim .. " a se battre. Ils exigent que toute la nourriture et " .. bandit-allofit-ez .. " les fournitures soient remises !" .. "TON ARGENT OU TA VIE !" rbold $) cyoa-text!
		most-charming if 
			charchoice( "  propose un compromis" )choice: bandit-start-charm
		else
			choice( "Abandonnez les fournitures" )choice: bandit-allofit-pay
		then
		most-grating if 
			charchoice( " 'Calmez vous'" fcoolit )choice: bandit-allofit-coolit
		then
		most-paranoid if 
			charchoice( ": On peut les combattre !" )choice: bandit-allofit-paranoid
		then
		choice( "Cours !" )choice: bandit-allofit-run
;		

} }


