cyoa{ regiondef{

: trade-flee
	choosehuman alive? if
		($ Thegroup .. "  est contraint de fuir le campement des commercants !" $) +crtext quitmission
	else 
		clear-streak delete-the-game
		' quit-to-title cyoa-choice-handler! 
	then
;

// Trading gas for food

0 value gas-to-food-bought

cyoa-choice: trade-gas-food-rob 
	($ cname .. "  renverse lhomme, sempare dun sac de nourriture, puis senfuit. " $) cyoa-text! badfx
	notsolo if
		($ Theothersare .. "  entraine dans tout ca." $) +text
	then
	6 10 rnd trunk-food+ rob-guilt
	aholeREV trade-flee
;

cyoa-choice: trade-gas-food-2
	($ Thegroup .. "  echange 25 unites de gaz contre 2 unites de nourriture." $) cyoa-text! basic-tone
	-25 trunk-gas+ 2 trunk-food+ 2 ' gas-to-food-bought +!
;

cyoa-choice: trade-gas-food-4
	($ Thegroup .. "  echange 50 unites de gaz contre 4 unites de nourriture." $) cyoa-text! basic-tone
	-50 trunk-gas+ 4 trunk-food+ 4 ' gas-to-food-bought +!
;

cyoa-choice: trade-gas-food-8
	($ Thegroup .. "  echange 100 unites de gaz contre 8 unites de nourriture." $) cyoa-text! basic-tone
	-100 trunk-gas+ 8 trunk-food+ 8 ' gas-to-food-bought +!
;

cyoa: trade-gas-food
	"Conversion de gaz en snacks" cyoa-title!
//	iicon
	($ Thegroup .. "  voit un homme debout pres dun SUV." $) cyoa-text!
	gas-to-food-bought 20 < if
		($ "'Avez vous du gaz de rechange ? Je suis a court !		" pbold .. "Il propose de vous donner 2 boites de conserve pour 25 unites de gaz." $)
		+crtext gasamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( " le vole" )choice: trade-gas-food-rob
		then
	else
		clear-cyoa ($ "Merci pour tout lessence!" pbold $) +crtext
	then basic-tone 
	trunk-gas 25 < if
		($ "Il nen reste plus a donner." $) +text
	else
		trunk-gas 99 > gas-to-food-bought 13 < and if
			choice( "Echangez 100 gaz" )choice: trade-gas-food-8
		then
		trunk-gas 49 > gas-to-food-bought 17 < and if
			choice( "Echangez 50 gaz" )choice: trade-gas-food-4
		then
		trunk-gas 24 > gas-to-food-bought 19 < and if
			choice( "Echangez 25 gaz" )choice: trade-gas-food-2
		then
	then
;

// Gas

0 value gas-bought

cyoa-choice: trade-gas-rob 
	($ cname .. " il prend quelques canisters de gaz et senfuit " $) cyoa-text! badfx
	notsolo if
		($ Theothersare .. "  entraine dans tout ca." $) +text
	then
	40 70 rnd trunk-gas+ rob-guilt
	aholeREV trade-flee
;

cyoa-choice: trade-gas-5
	($ Thegroup .. "  echange 5 nourriture contre 50 unites de gaz." $) cyoa-text! basic-tone
	food-5-to-gas 5 ' gas-bought +!
;

cyoa-choice: trade-gas-10
	($ Thegroup .. "  echange 10 nourriture contre 100 unites de gaz." $) cyoa-text! basic-tone
	food-10-to-gas 10 ' gas-bought +!
;

cyoa-choice: trade-gas-15
	($ Thegroup .. "  echange 15 nourriture contre 150 unites de gaz." $) cyoa-text! basic-tone
	food-15-to-gas 15 ' gas-bought +!
;

cyoa-choice: trade-gas-all
	($ Thegroup .. "  echange " .. ghis .. "  nourriture restante contre du gaz." $) cyoa-text! basic-tone
	food-all-to-gas 5 ' gas-bought +!
;

cyoa: trade-gas
	"Gaz a vendre" cyoa-title! picon!
	($ Thegroup .. " il trouve un homme pres dune camionnette rouillee. Le camionnette est plein de reservoirs de gazole et de serviettes huilees. Lhomme et la camionnette sentent fortement du gazoline." $) cyoa-text!
	gas-bought 15 < if
		"Il offre de vendre 10 unites de gaz en echange de chaque aliment quil obtient." +crtext 
		foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le marchand" )choice: trade-gas-rob
		then
	else
		clear-cyoa "'Il est tout a fait sans gaz." +crtext 
	then basic-tone 
	// Possibly replace some with weaselest-pass if weaselest
	trunk-food 0 > if
		trunk-food 14 > gas-bought 5 < and if
			choice( "1 gold" )choice: trade-gas-15
		then
		trunk-food 9 > gas-bought 10 < and if
			choice( "1 gold" )choice: trade-gas-10
		then
		gas-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-gas-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-gas-all
			then
		then
	then
;

// Bullets

0 value bullet-bought

cyoa-choice: trade-bullet-rob 
	($ cname .. " il prend quelques boites de balles, puis senfuit. Le ravageur mentait sur ne pas utiliser des armes a feu, et envoie quelques balles supplementaires vers " .. thegroup .. "." $) cyoa-text! bitefx 50 80 rnd trunk-bullet+
		rob-fail
	aholeREV trade-flee
;

cyoa-choice: trade-bullet-5
	($ Thegroup .. "  echange 5 nourriture contre 40 balles." $) cyoa-text! basic-tone
	food-5-to-bullet 5 ' bullet-bought +!
;

cyoa-choice: trade-bullet-10
	($ Thegroup .. "  echange 10 nourriture contre 80 balles." $) cyoa-text! basic-tone
	food-10-to-bullet 10 ' bullet-bought +!
;

cyoa-choice: trade-bullet-15
	($ Thegroup .. "  echange 15 nourriture contre 120 balles." $) cyoa-text! basic-tone
	food-15-to-bullet 15 ' bullet-bought +!
;

cyoa-choice: trade-bullet-all
	($ Thegroup .. "  echange " .. ghis .. "  nourriture restante contre des balles." $) cyoa-text! basic-tone
	food-all-to-bullet 5 ' bullet-bought +!
;

cyoa: trade-bullet
	"Excedent de balles" cyoa-title! picon!
	($ Thegroup .. " il parle a un ravageur amical qui vend des balles supplementaires. Elle pretend ne pas utiliser de pistolets en raison du bruit des tirs qui eveille les zombies." $) text!
	bullet-bought 15 < if 
		"Elle offre 8 balles pour chaque aliment quelle obtient." +crtext foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le marchand" )choice: trade-bullet-rob
		then		
	else
		clear-cyoa "'Elle est completement sans balles." +crtext
	then basic-tone
	trunk-food 0 > if
		trunk-food 14 > bullet-bought 5 < and if
			choice( "1 gold" )choice: trade-bullet-15
		then
		trunk-food 9 > bullet-bought 10 < and if
			choice( "1 gold" )choice: trade-bullet-10
		then
		bullet-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-bullet-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-bullet-all
			then
		then
	then
;

// Shotgun Shells

0 value shotgun-shell-bought

cyoa-choice: trade-shotgun-shell-rob 
	($ cname .. " il prend une grosse boite de cartouches de fusil de chasse et sen va avec. Dans un mouvement calme et fluide, le marchand de cartouches sort un fusil de chasse et commence a tirer." $) cyoa-text! bitefx
		30 40 rnd trunk-shotgun-shell+ rob-fail	aholeREV trade-flee
;

cyoa-choice: trade-shotgun-shell-5
	($ Thegroup .. "  echange 5 nourriture contre 25 cartouches de fusil de chasse." $) cyoa-text! basic-tone
	food-5-to-shotgun-shell 5 ' shotgun-shell-bought +!
;

cyoa-choice: trade-shotgun-shell-10
	($ Thegroup .. " he trades 10 food items for 50 shotgun shells." $) cyoa-text! basic-tone
	food-10-to-shotgun-shell 10 ' shotgun-shell-bought +!
;

cyoa-choice: trade-shotgun-shell-15
	($ Thegroup .. " he trades 15 food items for 75 shotgun shells." $) cyoa-text! basic-tone
	food-15-to-shotgun-shell 15 ' shotgun-shell-bought +!
;

cyoa-choice: trade-shotgun-shell-all
	($ Thegroup .. "  echange " .. ghis .. " food left for shotgun shells." $) cyoa-text! basic-tone
	food-all-to-shotgun-shell 5 ' shotgun-shell-bought +!
;

cyoa: trade-shotgun-shell
	"Shotgun Shell Stand" cyoa-title! picon!
	($ Thegroup .. " im sorry I dont speak English. " .. "GLACE" pbold .. " and replaced with    in the same hand " .. "CARTOUCHES DE FUSIL" rbold .. " ecrit en." $) cyoa-text!
	shotgun-shell-bought 15 < if
		"Il propose de vendre 5 cartouches de fusil pour chaque aliment que vous lui donnez." +crtext foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le marchand" )choice: trade-shotgun-shell-rob
		then
	else
		clear-cyoa "'Il est a court de cartouches de fusil de chasse." +crtext
	then basic-tone
	trunk-food 0 > if
		trunk-food 14 > shotgun-shell-bought 5 < and if
			choice( "1 gold" )choice: trade-shotgun-shell-15
		then
		trunk-food 9 > shotgun-shell-bought 10 < and if
			choice( "1 gold" )choice: trade-shotgun-shell-10
		then
		shotgun-shell-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-shotgun-shell-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-shotgun-shell-all
			then
		then
	then
;

// Rifle Shells

0 value rifle-shell-bought

cyoa-choice: trade-rifle-shell-rob 
	($ Thegroup .. "'sa tentative de vol se termine dans le desordre. Le vendeur a deux fusils d'assaut charges. Elle les tire sauvagement, un dans chaque main, en pulverisant des munitions partout." $) cyoa-text! bitefx
		40 65 rnd trunk-rifle-shell+ rob-fail aholeREV trade-flee
;

cyoa-choice: trade-rifle-shell-5
	($ Thegroup .. " 5 food for 30 rifle ammo." $) cyoa-text! basic-tone
	food-5-to-rifle-shell 5 ' rifle-shell-bought +!
;

cyoa-choice: trade-rifle-shell-10
	($ Thegroup .. " 6 ammo per food" $) cyoa-text! basic-tone
	food-10-to-rifle-shell 10 ' rifle-shell-bought +!
;
cyoa-choice: trade-rifle-shell-15
	($ Thegroup .. " ammo per food" $) cyoa-text! basic-tone
	food-15-to-rifle-shell 15 ' rifle-shell-bought +!
;

cyoa-choice: trade-rifle-shell-all
	($ Thegroup .. "  echange " .. ghis .. " ." $) cyoa-text! basic-tone
	food-all-to-rifle-shell 5 ' rifle-shell-bought +!
;

cyoa: trade-rifle-shell
	"Vendeur de munitions de fusil" cyoa-title! picon!
	($ Thegroup .. " 'rencontre quelqu'un qui vend des munitions de fusil supplementaires. Elle dit qu'elle est econome avec les munitions, tuant souvent plusieurs zombies en un seul coup." $) text!
	rifle-shell-bought 15 < if
		"Elle propose de donner 6 munitions de fusil par aliment quelle recoit." +crtext foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le marchand" )choice: trade-rifle-shell-rob
		then
	else
		clear-cyoa "'Elle est a court de munitions de fusil." +crtext 
	then basic-tone
	trunk-food 0 > if
		trunk-food 14 > rifle-shell-bought 5 < and if
			choice( "1 gold" )choice: trade-rifle-shell-15
		then
		trunk-food 9 > rifle-shell-bought 10 < and trunk-food and if
			choice( "1 gold" )choice: trade-rifle-shell-10
		then
		rifle-shell-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-rifle-shell-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-rifle-shell-all
			then
		then
	then
;

// Medicine

0 value medical-bought

cyoa-choice: trade-medical-rob 
	($ Thegroup .. " vole le commercant mais se rend compte plus tard que tout netait que des medicaments pour chats. Cela a encore une certaine valeur, mais a peine." $) cyoa-text! badfx
		3 4 rnd trunk-medical+ ' .morale2- foreach-team-char aholeREV trade-flee
;

cyoa-choice: trade-medical-5
	($ Thegroup .. " 5 food for 5 medical supplies" $) cyoa-text! basic-tone
	food-5-to-medical 5 ' medical-bought +!
;

cyoa-choice: trade-medical-10
	($ Thegroup .. " 10 food for 10 medical supplies" $) cyoa-text! basic-tone
	food-10-to-medical 10 ' medical-bought +!
;

cyoa-choice: trade-medical-15
	($ Thegroup .. " 15 food for 15 medical supplies" $) cyoa-text! basic-tone
	food-15-to-medical 15 ' medical-bought +!
;

cyoa-choice: trade-medical-all
	($ Thegroup .. " echangez votre nourriture restante contre des fournitures medicales." $) cyoa-text! basic-tone
	food-all-to-medical 5 ' medical-bought +!
;

cyoa: trade-medical
	"Vendeur de medicaments" cyoa-title! picon!
	($ Thegroup .. " 'trouve un homme qui pretend etre un vendeur de medicaments ambulant. Il transporte deux valises de fournitures medicales." $) cyoa-text! 
	medical-bought 15 < if
		"Il propose un article medical pour chaque article alimentaire." +crtext foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le marchand" )choice: trade-medical-rob
		then
	else
		clear-cyoa "'Il n'a plus de medicaments a vendre." +crtext
	then basic-tone
	trunk-food 0 > if
		trunk-food 14 > medical-bought 5 < and if
			choice( "1 gold" )choice: trade-medical-15
		then
		trunk-food 9 > medical-bought 10 < and if
			choice( "1 gold" )choice: trade-medical-10
		then
		 medical-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-medical-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-medical-all
			then
		then
	then
;

// Healing

cyoa-choice: trade-groupheal-rob 
	($ Thegroup .. " vole les fournitures du medecin. Les autres personnes du camp commercial interviennent pour la defendre." $) cyoa-text! bitefx 6 10 rnd trunk-medical+ rob-fail rob-guilt2
		aholeREV trade-flee
;

: trade-groupheal-guy
	cchar damage 0 = if
		($ cname .. " ' se fait examiner, mais il n'y a rien de mal avec " .. chim .. "." $)
	else
		($ cname .. "  se fait soigner pour " .. chis .. "  blessures." $) 
	then cchar .fullheal
;

cyoa-choice: trade-groupheal-heal
	trade-groupheal-guy
	cyoa-text! goodfx
	-6 trunk-food+
	clear-cyoa
;

cyoa-choice: trade-groupheal-group
	
	team-damage 0 = if
		($ Thegroup .. " ' se fait examiner, mais il n'y a rien de mal avec eux." $) cyoa-text!
	else
		7 groupheal
		($ Thegroup .. "  se fait soigner pour " $) cyoa-text!
		team-damage 1 < if 
			"tout" +text 
		else
			" la plupart" +text
		then
			"  de leurs blessures." +text
	then
	goodfx
	trade-train-pay
	clear-cyoa
;

: trade-groupheal-give
	cyoa-start
	solo if
		soloer choosechar trade-groupheal-heal
	then;
	" Qui devrait recevoir le traitement ?" cyoa-text!
	' trade-groupheal-heal cyoa-team-choice
;

cyoa-choice: trade-groupheal-charm 
	charmroll if
		($ cname .. " convainc le medecin doffrir ses services gratuitement !		" .. cHe .. "' est tout simplement charmant." $) cyoa-text! ' camp-charm ++ goodfx
		trade-groupheal-guy +crtext
	else
		($ cname .. "  accidentellement vient juste comme effrayant. 		" .. gHe .. " est prie de partir et de ne jamais revenir." $) cyoa-text! badfx
	then clear-cyoa
;

cyoa: trade-groupheal
	"Soins medicaux" cyoa-title! picon!
	($ Thegroup .. " francais" $) cyoa-text! basic-tone foodamt
	choice( "Partir pour linstant" )choice back-esc
	trunk-food 6 < if
		($ "Il n'y a pas assez de nourriture pour se permettre un traitement." $) +cr +text
	else
		choice( "6 food for  treatment" )choice: trade-groupheal-give
		trunk-food 14 > notsolo and if
			choice( "Donne " .. trade-train-amt .. " nourriture pour soins de groupe" )choice: trade-groupheal-group
		then
	then
		most-charming camp-charm 1 < and if
			charchoice( "  utilise son charme" )choice: trade-groupheal-charm
		then
		most-ahole if
			charchoice( " vole le docteur" )choice: trade-groupheal-rob
		then
;

// All Ammo

0 value allammo-bought
0 value allammo-dogpal

cyoa-choice: trade-allammo-rob 
	($ Thegroup .. " " .. " COMPLETMENT NOIX" fbold $) cyoa-text! bitefx 50 75 rnd trunk-bullet+ 20 40 rnd trunk-shotgun-shell+ 30 60 rnd trunk-rifle-shell+
		rob-megafail aholeREV trade-flee
;

cyoa-choice: trade-allammo-5
	($ Thegroup .. "  echange 5 nourritures contre un peu de munitions." $) cyoa-text! basic-tone
	food-5-to-allammo 5 ' allammo-bought +!
;

cyoa-choice: trade-allammo-10
	($ Thegroup .. "  echange 10 nourritures contre un tas de munitions." $) cyoa-text! basic-tone
	food-10-to-allammo 10 ' allammo-bought +!
;

cyoa-choice: trade-allammo-15
	($ Thegroup .. "  echange 15 nourritures contre un assortiment de munitions." $) cyoa-text! basic-tone
	food-15-to-allammo 15 ' allammo-bought +!
;

cyoa-choice: trade-allammo-all
	($ Thegroup .. "  echange " .. ghis .. "  nourriture restante contre des munitions." $) cyoa-text! basic-tone
	food-all-to-allammo 5 ' allammo-bought +!
;

cyoa-choice: trade-allammo-dogpal
	($ cname .. " utilise la PSYCHOLOGIE CANINE pour obtenir une tonne de munitions gratuites du chien. C'est genial que cela fonctionne sur les chiens qui parlent." $) cyoa-text! goodfx
	30 45 rnd trunk-bullet+ 14 21 rnd trunk-shotgun-shell+ 20 30 rnd trunk-rifle-shell+ ' allammo-dogpal ++
;

cyoa: trade-allammo
	"Ammo Emporium" cyoa-title! picon!
	($ Thegroup .. "  trouve un chien entoure dun tas de munitions. Le chien parle:" .. "	BIENVENUE CHEZ AMMO EMPORIUM! TOUT DOIT PARTIR!" pbold $) cyoa-text!
	allammo-bought 15 < if
		"Il propose 5 balles, 4 munitions de fusil et 3 cartouches de fusil a pompe par article alimentaire." +crtext foodamt
		choice( "Non merci" )choice back-esc
		most-ahole if
			charchoice( "  vole le chien" )choice: trade-allammo-rob
		then
		dogpal? allammo-dogpal 1 < and if
			choosedogpal cchar charchoice( "  utilise la PSYCHOLOGIE DU CHIEN" )choice: trade-allammo-dogpal
		then
	else
		clear-cyoa "'Le chien est a court de fournitures apres vous avoir vendu un tas de munitions!" +crtext
	then basic-tone
	trunk-food 0 > if
		trunk-food 14 > allammo-bought 5 < and if
			choice( "1 gold" )choice: trade-allammo-15
		then
		trunk-food 9 > allammo-bought 10 < and trunk-food and if
			choice( "1 gold" )choice: trade-allammo-10
		then
		allammo-bought 15 < if
			trunk-food 4 > if
				choice( "Echange 5 nourriture" )choice: trade-allammo-5
			else	
				choice( "Echange " .. trunk-food .. " nourriture" )choice: trade-allammo-all
			then
		then
	then
;

// Weapon buyer

cyoa-choice: trade-weapon-buy-rob 
	($ "La commercante se defend en jetant des boites de nourriture sur " .. cname .. "'! C'est etonnamment efficace. " $) cyoa-text!
	notsolo if
		($ Theothersare .. "  entraine dans tout ca." $) +text
	then
	6 10 rnd trunk-food+ bitefx ouch-- rob-guilt
	aholeREV trade-flee
;

cyoa-choice: trade-weapon-buy-nodrop
	"PAS DE CHUTE, PAS DE VENTE" cyoa-title! picon
	($ pname .. "  refuse de se separer de cette arme! La commercante est legerement irritee par la perte de son temps." $) cyoa-text! badfx
;

: trade-weapon-buy-2
	2 trunk-food+ goodfx
	($ RAINBOW .. "ARME VENDUE!" $) player .yellmsg
;

: hagglercalc args( foodamt )
	<- foodamt 2 <= if
		1 +
	then;
	<- foodamt 4 <= if
		2 +
	then;
	<- foodamt 6 <= if
		3 +
	then;
	<- foodamt 8 <= if
		4 +
	then;
	<- foodamt 10 <= if
		5 +
	then;
	<- foodamt 12 <= if
		6 +
	then;
	<- foodamt 15 <= if
		7 +
	then;
	<- foodamt 16 >= if
		8 +
	then;
;

: hagglercalcOLD args( foodamt ) // The pre-Kidney Top Seller calcs
	<- foodamt 3 <= if
		1 +
	then;
	<- foodamt 6 <= if
		2 +
	then;
	<- foodamt 9 <= if
		3 +
	then;
	<- foodamt 12 <= if
		4 +
	then;
	<- foodamt 15 <= if
		5 +
	then;
;


: .sell-weapon args( foodamt weapon )
	<- weapon pchar .weapona@ = pchar .weapon_nodropa@ 0 > and if trade-weapon-buy-nodrop then;
	<- weapon pchar .weaponb@ = pchar .weapon_nodropb@ 0 > and if trade-weapon-buy-nodrop then;
	<- weapon pchar .weaponc@ = pchar .weapon_nodropc@ 0 > and if trade-weapon-buy-nodrop then;
	haggler? if drop
		<- foodamt <- foodamt hagglercalc
	else drop
		<- foodamt
	then add-food pchar .loot-to-trunk goodfx
	gstats{ ugnome-extraZP 1 > if 1 zombop+! then }
	<- weapon pchar .weapona@ = if 0 pchar .weapona! then;
	<- weapon pchar .weaponb@ = if 0 pchar .weaponb! then;
	<- weapon pchar .weaponc@ = if 0 pchar .weaponc! then;
;

0 stack
	WEAPON_MEGAMAUL shove
	WEAPON_SLEDGE shove
	WEAPON_KNIGHT shove
	WEAPON_WINDSTAR shove
	WEAPON_DOLT shove
	WEAPON_RIFLE shove
	WEAPON_SHOTGUN shove
	WEAPON_MEDIEVAL shove
	WEAPON_GUITAR shove
	WEAPON_FIRE shove
	WEAPON_AUTOSHOT shove
	WEAPON_SLUG shove
	WEAPON_DAWG shove
	WEAPON_UZI shove
	WEAPON_MINIGUN shove
	WEAPON_AK47 shove
	WEAPON_HUNTING shove
	WEAPON_FLAMETHROWER shove
	WEAPON_PARKING shove
	WEAPON_CHAINSAW shove
	WEAPON_MACHETE2 shove
	WEAPON_CLAYMORE shove
	WEAPON_NIGHTSTICK shove
	WEAPON_ALUMINUM shove
	WEAPON_SNUBNOSE shove
	WEAPON_RAYGUN shove
	WEAPON_TRUEKATANA shove
	WEAPON_ZWEI shove
	WEAPON_SCYTHE shove
	WEAPON_REAPER shove
	WEAPON_SKULLMACE shove
	WEAPON_GLADIUS shove
	WEAPON_BARDICHE shove
	WEAPON_MODSPEAR shove
	WEAPON_RED9 shove
	WEAPON_WHACKER shove
	WEAPON_BLOWER shove
	WEAPON_SILENTSHOTGUN shove
	WEAPON_SILENTRIFLE shove
	WEAPON_SILENTPISTOL shove
	WEAPON_TACTICOP shove
	WEAPON_TURRETRED shove
	WEAPON_TURRETGREEN shove
	WEAPON_BRANCHTRIM shove
	WEAPON_CAVALRY shove
	WEAPON_DRAGONSLAYER shove
	WEAPON_FIRELINK shove
	WEAPON_KNUCKS shove
	WEAPON_MEGASPIKEDBAT shove
	WEAPON_REDROBOT shove
	WEAPON_BLUEROBOT shove
	WEAPON_HALBERD shove
	WEAPON_DAGGER shove
	WEAPON_SAI shove
	WEAPON_GOLDKNIFE shove
	WEAPON_MEGAKNIGHT shove
	WEAPON_ULTIMALOG shove
	WEAPON_HOTPOKER shove
	WEAPON_GOLDSPEAR shove
	WEAPON_WOODCLUB shove
	WEAPON_SICKLE shove
	WEAPON_DSHOTGUN shove
	WEAPON_EWHACKER shove
	WEAPON_EBLOWER shove
	WEAPON_ECHAINSAW shove
	WEAPON_BLACKHAMMER shove
	WEAPON_BAZOOKA shove
	WEAPON_GLAUNCH shove
	WEAPON_NAPALM shove
	WEAPON_HAUNTSPOON shove
	WEAPON_HAUNTKNIFE shove
	WEAPON_HAUNTFORK shove
	WEAPON_GOLDENAXE1 shove
	WEAPON_GOLDENAXE2 shove
constant WEAPON_LIST_SELLABLE

: pchar-weapon-sell-check WEAPON_LIST_SELLABLE pchar-has-weapontype? ;

// : trade-weapon-  WEAPON_ .sell-weapon ;
: trade-weapon-knight 5 WEAPON_KNIGHT .sell-weapon ;
: trade-weapon-megamaul 3 WEAPON_MEGAMAUL .sell-weapon ;
: trade-weapon-sledge 1 WEAPON_SLEDGE .sell-weapon ;
: trade-weapon-windstar 3 WEAPON_WINDSTAR .sell-weapon ;
: trade-weapon-dolt 1 WEAPON_DOLT .sell-weapon ;
: trade-weapon-cowboy 1 WEAPON_RIFLE .sell-weapon ;
: trade-weapon-shotgun 1 WEAPON_SHOTGUN .sell-weapon ;
: trade-weapon-medieval 5 WEAPON_MEDIEVAL .sell-weapon ;
: trade-weapon-guitar 2 WEAPON_GUITAR .sell-weapon ;
: trade-weapon-fireaxe 1 WEAPON_FIRE .sell-weapon ;
: trade-weapon-autoshot 7 WEAPON_AUTOSHOT .sell-weapon ;
: trade-weapon-slug 6 WEAPON_SLUG .sell-weapon ;
: trade-weapon-dawg 10 WEAPON_DAWG .sell-weapon ;
: trade-weapon-uzi 4 WEAPON_UZI .sell-weapon ;
: trade-weapon-minigun 16 WEAPON_MINIGUN .sell-weapon ;
: trade-weapon-ak47 6 WEAPON_AK47 .sell-weapon ;
: trade-weapon-hunting 3 WEAPON_HUNTING .sell-weapon ;
: trade-weapon-flamethrower 12 WEAPON_FLAMETHROWER .sell-weapon ;
: trade-weapon-parking 1 WEAPON_PARKING .sell-weapon ;
: trade-weapon-chainsaw 4 WEAPON_CHAINSAW .sell-weapon ;
: trade-weapon-machete 3 WEAPON_MACHETE2 .sell-weapon ;
: trade-weapon-claymore 8 WEAPON_CLAYMORE .sell-weapon ;
: trade-weapon-nightstick 1 WEAPON_NIGHTSTICK .sell-weapon ;
: trade-weapon-alumbat 1 WEAPON_ALUMINUM .sell-weapon ;
: trade-weapon-snubnose 1 WEAPON_SNUBNOSE .sell-weapon ;
: trade-weapon-raygun 15 WEAPON_RAYGUN .sell-weapon ;
: trade-weapon-truekatana 15 WEAPON_TRUEKATANA .sell-weapon ;
: trade-weapon-zwei 11 WEAPON_ZWEI .sell-weapon ;
: trade-weapon-scythe 3 WEAPON_SCYTHE .sell-weapon ;
: trade-weapon-reaper 15 WEAPON_REAPER .sell-weapon ;
: trade-weapon-skullmace 10 WEAPON_SKULLMACE .sell-weapon ;
: trade-weapon-gladius 3 WEAPON_GLADIUS .sell-weapon ;
: trade-weapon-bardiche 6 WEAPON_BARDICHE .sell-weapon ;
: trade-weapon-modspear 2 WEAPON_MODSPEAR .sell-weapon ;
: trade-weapon-red9 3 WEAPON_RED9 .sell-weapon ;

: trade-weapon-whacker 2 WEAPON_WHACKER .sell-weapon ;
: trade-weapon-blower 2 WEAPON_BLOWER .sell-weapon ;
: trade-weapon-silentshotgun 7 WEAPON_SILENTSHOTGUN .sell-weapon ;
: trade-weapon-silentrifle 6 WEAPON_SILENTRIFLE .sell-weapon ;
: trade-weapon-silentpistol 1 WEAPON_SILENTPISTOL .sell-weapon ;
: trade-weapon-tacticop 1 WEAPON_TACTICOP .sell-weapon ;
: trade-weapon-turretred 4 WEAPON_TURRETRED .sell-weapon ;
: trade-weapon-turretgreen 2 WEAPON_TURRETGREEN .sell-weapon ;
: trade-weapon-branchtrim 1 WEAPON_BRANCHTRIM .sell-weapon ;
: trade-weapon-cavalry 8 WEAPON_CAVALRY .sell-weapon ;
: trade-weapon-dragonslayer 20 WEAPON_DRAGONSLAYER .sell-weapon ;
: trade-weapon-firelink 15 WEAPON_FIRELINK .sell-weapon ;
: trade-weapon-knucks 1 WEAPON_KNUCKS .sell-weapon ;
: trade-weapon-megaspikedbat 3 WEAPON_MEGASPIKEDBAT .sell-weapon ;
: trade-weapon-redrobot 4 WEAPON_REDROBOT .sell-weapon ;
: trade-weapon-bluerobot 2 WEAPON_BLUEROBOT .sell-weapon ;
: trade-weapon-halberd 7 WEAPON_HALBERD .sell-weapon ;
: trade-weapon-dagger 2 WEAPON_DAGGER .sell-weapon ;
: trade-weapon-sai 3 WEAPON_SAI .sell-weapon ;
: trade-weapon-goldknife 15 WEAPON_GOLDKNIFE .sell-weapon ;
: trade-weapon-megaknight 15 WEAPON_MEGAKNIGHT .sell-weapon ;
: trade-weapon-ultimalog 1 WEAPON_ULTIMALOG .sell-weapon ;
: trade-weapon-hotpoker 6 WEAPON_HOTPOKER .sell-weapon ;
: trade-weapon-goldspear 20 WEAPON_GOLDSPEAR .sell-weapon ;
: trade-weapon-woodclub 1 WEAPON_WOODCLUB .sell-weapon ;
: trade-weapon-sickle 2 WEAPON_SICKLE .sell-weapon ;
: trade-weapon-dshotgun 3 WEAPON_DSHOTGUN .sell-weapon ; // Probably worth 10 if it was in shops, but rare

: trade-weapon-ewhacker 2 WEAPON_EWHACKER .sell-weapon ;
: trade-weapon-eblower 2 WEAPON_EBLOWER .sell-weapon ;
: trade-weapon-echainsaw 2 WEAPON_ECHAINSAW .sell-weapon ;
: trade-weapon-blackhammer 1 WEAPON_BLACKHAMMER .sell-weapon ;

: trade-weapon-bazooka 4 WEAPON_BAZOOKA .sell-weapon ;
: trade-weapon-glaunch 3 WEAPON_GLAUNCH .sell-weapon ;
: trade-weapon-napalm 4 WEAPON_NAPALM .sell-weapon ;

: trade-weapon-hauntspoon 1 WEAPON_HAUNTSPOON .sell-weapon ;
: trade-weapon-hauntknife 1 WEAPON_HAUNTKNIFE .sell-weapon ;
: trade-weapon-hauntfork 1 WEAPON_HAUNTFORK .sell-weapon ;

: trade-weapon-goldenaxe1 15 WEAPON_GOLDENAXE1 .sell-weapon ;
: trade-weapon-goldenaxe2 20 WEAPON_GOLDENAXE2 .sell-weapon ;

cyoa: trade-weapon-buy
	"Trocs darmes" cyoa-title!
//	iicon
	($ Thegroup .. "  voit une femme debout pres dun stock de caisses. Les caisses semblent contenir une grande quantite de nourriture et de boissons." $) cyoa-text!
		($ "'J'ai de la nourriture! Je cherche de bonnes armes!" pbold .. "Elle jette un coup doeil rapide a ce qui " .. pname .. " is carrying..." $) +crtext
	pchar-weapon-sell-check if
		choice( "Donner rien pour linstant" )choice back-esc
	else 
		"Elle ne voit rien qu'elle veut!" +crtext
		WEAPON_LIST_SELLABLE roadtrip-has-weapontype? if
			" Cependant, il y a quelque chose que vous pouvez vendre " +text
			WEAPON_LIST_SELLABLE team-has-weapontype? if
				"sur un personnage different."
			else
				"assis dans le coffre de la voiture."
			then +text
		then
		choice( "Revenez plus tard" )choice back-esc
	then
	pchar ahole? if
		pchar charchoice( " vole a elle" )choice: trade-weapon-buy-rob
	then
	basic-tone 

	// WEAPON_ pchar-weapon? if choice( "Vendre    1 aliment" )choice: trade-weapon- then
	// Prices roughly a quarter of their buy prices
	// This can vary, or better if the item is rare
	WEAPON_BARDICHE pchar-weapon? if choice( "Vendre Bardiche   6 aliments" )choice: trade-weapon-bardiche then
	WEAPON_SKULLMACE pchar-weapon? if choice( "Vendre Marteau crane   10 aliments" )choice: trade-weapon-skullmace then
	WEAPON_REAPER pchar-weapon? if choice( "Vendre Grimpeur de Reves   15 aliments" )choice: trade-weapon-reaper then
	WEAPON_SCYTHE pchar-weapon? if choice( "Vendre Faux de Cose   3 aliments" )choice: trade-weapon-scythe then
	WEAPON_ZWEI pchar-weapon? if choice( "Vendre Deux Mains   11 aliments" )choice: trade-weapon-zwei then
	WEAPON_RAYGUN pchar-weapon? if choice( "Vendre Rayon Alien   15 aliments" )choice: trade-weapon-raygun then
	WEAPON_SNUBNOSE pchar-weapon? if choice( "Vendre Petite Canne   1 aliment" )choice: trade-weapon-snubnose then
	WEAPON_TRUEKATANA pchar-weapon? if choice( "Vendre Katana Forte   15 aliments" )choice: trade-weapon-truekatana then
	WEAPON_MODSPEAR pchar-weapon? if choice( "Vendre Lance Tactique   2 nourriture" )choice: trade-weapon-modspear then
	WEAPON_ALUMINUM pchar-weapon? if choice( "Vendre Batte en Aluminium   1 nourriture" )choice: trade-weapon-alumbat then
	WEAPON_NIGHTSTICK pchar-weapon? if choice( "Vendre Matraque   1 nourriture" )choice: trade-weapon-nightstick then
	WEAPON_DAWG pchar-weapon? if choice( "Vendre BIG DAWG   10 nourriture" )choice: trade-weapon-dawg then
	WEAPON_UZI pchar-weapon? if choice( "Vendre Uzi   4 nourriture" )choice: trade-weapon-uzi then
	WEAPON_SLUG pchar-weapon? if choice( "Vendre Fusil a Pompe   6 nourriture" )choice: trade-weapon-slug then
	WEAPON_AUTOSHOT pchar-weapon? if choice( "Vendre Fusil a Pompe Automatique   7 nourriture" )choice: trade-weapon-autoshot then
	WEAPON_MINIGUN pchar-weapon? if choice( "Vendre Minigun   16 nourriture" )choice: trade-weapon-minigun then
	WEAPON_AK47 pchar-weapon? if choice( "Vendre Fusil dAssaut   6 nourriture" )choice: trade-weapon-ak47 then
	WEAPON_GLADIUS pchar-weapon? if	choice( "Vendre Gladius   3 nourriture" )choice: trade-weapon-gladius then	
	WEAPON_HUNTING pchar-weapon? if choice( "Vendre Fusil de Chasse   3 nourriture" )choice: trade-weapon-hunting then
	WEAPON_FLAMETHROWER pchar-weapon? if choice( "Vendre Lance Flammes   12 nourriture" )choice: trade-weapon-flamethrower then
	WEAPON_PARKING pchar-weapon? if choice( "Vendre Horodateur   1 nourriture" )choice: trade-weapon-parking then
	WEAPON_CHAINSAW pchar-weapon? if choice( "Vendre Tronconneuse   4 nourriture" )choice: trade-weapon-chainsaw then
	WEAPON_MACHETE2 pchar-weapon? if choice( "Vendre machette robuste   3 unites de nourriture" )choice: trade-weapon-machete then
	WEAPON_CLAYMORE pchar-weapon? if choice( "Claymore" )choice: trade-weapon-claymore then	
	WEAPON_KNIGHT pchar-weapon? if choice( "5 gold" )choice: trade-weapon-knight then
	WEAPON_MEGAMAUL pchar-weapon? if choice( "Gold" )choice: trade-weapon-megamaul then
	WEAPON_SLEDGE pchar-weapon? if choice( "Vendre Sledgehammer   1 nourriture" )choice: trade-weapon-sledge then
	WEAPON_WINDSTAR pchar-weapon? if choice( "Vendre Windstar   3 nourriture" )choice: trade-weapon-windstar then
	WEAPON_DOLT pchar-weapon? if choice( "Vendre Dolt 45   1 nourriture" )choice: trade-weapon-dolt then
	WEAPON_RIFLE pchar-weapon? if choice( "Vendre Cowboy Rifle   1 nourriture" )choice: trade-weapon-cowboy then
	WEAPON_SHOTGUN pchar-weapon? if choice( "Vendre Shotgun   1 nourriture" )choice: trade-weapon-shotgun then
	WEAPON_MEDIEVAL pchar-weapon? if choice( "Vendre Medieval Axe   5 nourriture" )choice: trade-weapon-medieval then
	WEAPON_GUITAR pchar-weapon? if choice( "Vendre Electric Guitar   2 nourriture" )choice: trade-weapon-guitar then
	WEAPON_FIRE pchar-weapon? if choice( "Vendre Fire Axe   1 nourriture" )choice: trade-weapon-fireaxe then
	WEAPON_RED9 pchar-weapon? if choice( "Vendre Ded9   3 nourriture" )choice: trade-weapon-red9 then
	
	WEAPON_WHACKER pchar-weapon? if choice( "Vendre Weed Whacker   2 nourriture" )choice: trade-weapon-whacker then
	WEAPON_SILENTSHOTGUN pchar-weapon? if choice( "Vendre Quiet Shotgun   7 nourriture" )choice: trade-weapon-silentshotgun then
	WEAPON_SILENTRIFLE pchar-weapon? if choice( "Vendre Sniper Rifle   6 nourriture" )choice: trade-weapon-silentrifle then
	WEAPON_SILENTPISTOL pchar-weapon? if choice( "Vendre Silenced Pistol   1 nourriture" )choice: trade-weapon-silentpistol then
	WEAPON_TACTICOP pchar-weapon? if choice( "Vendre TactiCop Lite   1 nourriture" )choice: trade-weapon-tacticop then
	WEAPON_TURRETRED pchar-weapon? if choice( "Gold" )choice: trade-weapon-turretred then
	WEAPON_TURRETGREEN pchar-weapon? if choice( "Gold" )choice: trade-weapon-turretgreen then
	WEAPON_BRANCHTRIM pchar-weapon? if choice( "Vendre coupe branches   1 unite de nourriture" )choice: trade-weapon-branchtrim then
	WEAPON_CAVALRY pchar-weapon? if choice( "Vendre le Sabre de cavalerie   8 nourriture" )choice: trade-weapon-cavalry then
	WEAPON_DRAGONSLAYER pchar-weapon? if choice( "Vendre lEpee tueuse de dragons   20 nourriture" )choice: trade-weapon-dragonslayer then
	WEAPON_FIRELINK pchar-weapon? if choice( "Vendre lEpee large de braise ardente   15 nourriture" )choice: trade-weapon-firelink then
	WEAPON_KNUCKS pchar-weapon? if choice( "Vendre les Poings americains   1 nourriture" )choice: trade-weapon-knucks then
	WEAPON_MEGASPIKEDBAT pchar-weapon? if choice( "Vendre le Marteau   3 nourriture" )choice: trade-weapon-megaspikedbat then
	WEAPON_REDROBOT pchar-weapon? if choice( "Vendre le Robot rouge   4 nourriture" )choice: trade-weapon-redrobot then
	WEAPON_BLUEROBOT pchar-weapon? if choice( "Vendre le Robot bleu   2 nourriture" )choice: trade-weapon-bluerobot then
	WEAPON_HALBERD pchar-weapon? if choice( "Vendre la Hallebarde   7 nourriture" )choice: trade-weapon-halberd then
	WEAPON_DAGGER pchar-weapon? if choice( "Vendre la Dague   2 nourriture" )choice: trade-weapon-dagger then
	WEAPON_SAI pchar-weapon? if choice( "Vendre le Sai   3 nourriture" )choice: trade-weapon-sai then
	WEAPON_GOLDKNIFE pchar-weapon? if choice( "Vendre le Couteau dore   15 nourriture" )choice: trade-weapon-goldknife then
	WEAPON_MEGAKNIGHT pchar-weapon? if choice( "Vendre la Lame de Megachevalier   15 nourriture" )choice: trade-weapon-megaknight then
	WEAPON_ULTIMALOG pchar-weapon? if choice( "Vendre la Buche ultime   1 nourriture" )choice: trade-weapon-ultimalog then
	WEAPON_HOTPOKER pchar-weapon? if choice( "Gold" )choice: trade-weapon-hotpoker then
	WEAPON_GOLDSPEAR pchar-weapon? if choice( "00 gold" )choice: trade-weapon-goldspear then
	WEAPON_WOODCLUB pchar-weapon? if choice( "1 wooden club" )choice: trade-weapon-woodclub then
	WEAPON_SICKLE pchar-weapon? if choice( "Gold" )choice: trade-weapon-sickle then
	WEAPON_BLOWER pchar-weapon? if choice( "Weed blower" )choice: trade-weapon-blower then
	WEAPON_DSHOTGUN pchar-weapon? if choice( "Food" )choice: trade-weapon-dshotgun then
	
	WEAPON_EWHACKER pchar-weapon? if choice( "E Whacker" )choice: trade-weapon-ewhacker then
	WEAPON_EBLOWER pchar-weapon? if choice( "Food" )choice: trade-weapon-eblower then
	
	WEAPON_ECHAINSAW pchar-weapon? if choice( "Vendre Tronconneuse Electrique   2 nourritures" )choice: trade-weapon-echainsaw then
	WEAPON_BLACKHAMMER pchar-weapon? if choice( "Vendre Marteau de Forgeron   1 nourriture" )choice: trade-weapon-blackhammer then
	WEAPON_BAZOOKA pchar-weapon? if choice( "Vendre Bazooka   4 nourritures" )choice: trade-weapon-bazooka then
	WEAPON_GLAUNCH pchar-weapon? if choice( "Vendre Lance Grenades   3 nourritures" )choice: trade-weapon-glaunch then
	WEAPON_NAPALM pchar-weapon? if choice( "Vendre Lance Napalm   4 nourritures" )choice: trade-weapon-napalm then
	WEAPON_HAUNTSPOON pchar-weapon? if choice( "Vendre Cuillere Hantee   1 nourriture" )choice: trade-weapon-hauntspoon then
	WEAPON_HAUNTKNIFE pchar-weapon? if choice( "Vendre Couteau Hante   1 nourriture" )choice: trade-weapon-hauntknife then
	WEAPON_HAUNTFORK pchar-weapon? if choice( "Vendre Fourchette Hantee   1 nourriture" )choice: trade-weapon-hauntfork then
	
	WEAPON_GOLDENAXE1 pchar-weapon? if choice( "Vendre Hache dOr   15 nourritures" )choice: trade-weapon-goldenaxe1 then
	WEAPON_GOLDENAXE2 pchar-weapon? if choice( "Vendre Hache Lourde en Or   20 nourritures" )choice: trade-weapon-goldenaxe2 then

;

} }


