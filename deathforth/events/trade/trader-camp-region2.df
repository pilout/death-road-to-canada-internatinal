// uses hack/region-downtown-test.df
uses paul/region-layout.df

// "additional-rooms.txt" $add-rooms

map{ regiondef{

trade-camp-reset

' plotdirt >defer ft

: pt
	xyp.xy ft // Plot the current floor by default

	xyp.i char v = if tradercarhere then;
	xyp.i char P = if pictable1 lt-here 8 rdrift then;
	xyp.i char x = if gravehere then;
	xyp.i char c = if campfirehere then;
	xyp.i char C = if tenthere then;
	xyp.i char * = if ttenthere then;
	xyp.i char T = if traderhere then;
	xyp.i char w = if docarwreck then;
	xyp.i char s = if dotirestack then;
	xyp.i char t = if wooded then;
	xyp.i char { = if dirtstart then;
	xyp.i char } = if dirtend then;
	xyp.i char [ = if dirtstart then;
	xyp.i char ] = if gravelendw then;
	xyp.i char ( = if grassstart then;
	xyp.i char ) = if grassend then;
	xyp.i char Z = if tnomey-spawn then;
;

"
.....................
.....................
.....................
ttttttttttttttttttttt
.....................
ttttttttttttttttttttt
.....{ttttttttt......
tttt....x.x.x....tttt
........x.x.x........
.....................
...............}.....
.....................
ttt........Z......ttt
.....................
....*...*...*...*....
.....................
........{............
...*......c......*...
.....................
............}........
.....................
.......P.....P.......
.....................
.....................
.....................
....T.....T.....T....
.....................
.....................
.....................
.s....s.......s....s.
[....................
.....v.........v.....
.....................
.....................
.....................
.....................
.....................
....................]"
constant maplayout

: plotmap
	0 -1 maplayout xyplot: pt
;

: site-setup
	1 no_time!

	-1 1 frnd wind_force!
	campfirerain

	' plotgrass to ft
	plotmap
	mission{ no-edge-spawns }

	// NOTE: Don't let you just drive away! Or should we... (good way to abandon everyone)
;

region: campsite2
	w: maplayout layoutw
	h: maplayout layouth

	trade-mode

	post-script: site-setup

} }
